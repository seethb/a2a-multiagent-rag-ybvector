Prompts:

1. marked as fraud category:crypto in Unknown since 2025-08-01 over 10 limit 5
2. marked as fraud category:crypto over 10 last 60 days in Unknown limit 5
3. marked as fraud category:utilities over 10000 last 120 days in Kolkata limit 5

sample prompt with curl command and the output from the LLM

curl -s -X POST http://localhost:3000/api/run \
  -H 'Content-Type: application/json' \
  -d '{"query":"marked as fraud category:crypto over 10 last 120 days in Unknown limit 5"}'

{"id":"23b8feff-3905-4571-bd6b-2a76345b6a54","created_at":"2025-09-29T08:55:37.015Z","stepTimings":{"retriever_ms":2155,"fraudDetection_ms":0,"riskScoring_ms":0,"writer_ms":0,"compliance_ms":1},"retriever":{"filters":{"timeWindowHours":2880,"since":null,"category":"crypto","location":"Unknown","overAmt":10,"fraudOnly":true,"limit":5,"txnType":null},"count":4,"sample":[{"txn_id":"2bf651e4-76dd-4b6a-a653-1be9eb424dd8","payer_vpa":"eve@upi","payee_vpa":"crypto@upi","amount":"134123.51","txn_time":"2025-08-15T21:57:43.882Z","device_id":"dev-618","ip_address":"192.168.209.24","merchant_category":"crypto","location":"Unknown","txn_type":"P2M","is_fraud":true,"fraud_score":"90","is_fraud_pred":true},{"txn_id":"861af605-b8de-4dcf-93a8-0e1ee0aa560a","payer_vpa":"eve@upi","payee_vpa":"crypto@upi","amount":"136005.65","txn_time":"2025-08-15T12:55:08.498Z","device_id":"dev-930","ip_address":"192.168.20.224","merchant_category":"crypto","location":"Unknown","txn_type":"P2M","is_fraud":true,"fraud_score":"90","is_fraud_pred":true},{"txn_id":"c30609a1-4f53-4e0a-b157-d2e979b7afd8","payer_vpa":"eve@upi","payee_vpa":"crypto@upi","amount":"97978.37","txn_time":"2025-08-15T04:19:32.295Z","device_id":"dev-493","ip_address":"192.168.122.132","merchant_category":"crypto","location":"Unknown","txn_type":"P2M","is_fraud":true,"fraud_score":"90","is_fraud_pred":true},{"txn_id":"e99bbc40-c4df-4660-b245-66fa6117eb98","payer_vpa":"eve@upi","payee_vpa":"crypto@upi","amount":"46044.6","txn_time":"2025-08-14T22:42:54.379Z","device_id":"dev-59","ip_address":"192.168.131.127","merchant_category":"crypto","location":"Unknown","txn_type":"P2M","is_fraud":true,"fraud_score":"70","is_fraud_pred":true}],"meta":{"usedLLM":false,"fellBack":false}},"fraudDetection":{"flags":[{"txn_id":"2bf651e4-76dd-4b6a-a653-1be9eb424dd8","reason":"High amount ≥ 50000"},{"txn_id":"2bf651e4-76dd-4b6a-a653-1be9eb424dd8","reason":"High-risk category: crypto"},{"txn_id":"861af605-b8de-4dcf-93a8-0e1ee0aa560a","reason":"High amount ≥ 50000"},{"txn_id":"861af605-b8de-4dcf-93a8-0e1ee0aa560a","reason":"High-risk category: crypto"},{"txn_id":"c30609a1-4f53-4e0a-b157-d2e979b7afd8","reason":"High amount ≥ 50000"},{"txn_id":"c30609a1-4f53-4e0a-b157-d2e979b7afd8","reason":"High-risk category: crypto"},{"txn_id":"e99bbc40-c4df-4660-b245-66fa6117eb98","reason":"High amount ≥ 10000"},{"txn_id":"e99bbc40-c4df-4660-b245-66fa6117eb98","reason":"High-risk category: crypto"}],"meta":{"usedLLM":false,"fellBack":false}},"riskScoring":{"overall":90,"perTxnScores":[{"txn_id":"2bf651e4-76dd-4b6a-a653-1be9eb424dd8","score":95,"reasons":["High amount ≥ 50000","High-risk category: crypto"]},{"txn_id":"861af605-b8de-4dcf-93a8-0e1ee0aa560a","score":95,"reasons":["High amount ≥ 50000","High-risk category: crypto"]},{"txn_id":"c30609a1-4f53-4e0a-b157-d2e979b7afd8","score":95,"reasons":["High amount ≥ 50000","High-risk category: crypto"]},{"txn_id":"e99bbc40-c4df-4660-b245-66fa6117eb98","score":75,"reasons":["High amount ≥ 10000","High-risk category: crypto"]}],"meta":{"usedLLM":false,"fellBack":false}},"writer":{"narrative":"Query: “marked as fraud category:crypto over 10 last 120 days in Unknown limit 5”. Retrieved 4 transactions.\nFilters → {\"timeWindowHours\":2880,\"since\":null,\"category\":\"crypto\",\"location\":\"Unknown\",\"overAmt\":10,\"fraudOnly\":true,\"limit\":5,\"txnType\":null}\nOverall risk score: 90/100\nTop flag reasons: High-risk category: crypto (4), High amount ≥ 50000 (3), High amount ≥ 10000 (1)","meta":{"usedLLM":false,"fellBack":false}},"compliance":{"action":"ESCALATE","notes":["High risk score","Many flags raised"],"usedLLM":false,"fellBack":false},"topTxns":[{"txn_id":"2bf651e4-76dd-4b6a-a653-1be9eb424dd8","amount":"134123.51","txn_time":"2025-08-15T21:57:43.882Z","location":"Unknown","category":"crypto","txn_type":"P2M","score":95,"reasons":["High amount ≥ 50000","High-risk category: crypto"]},{"txn_id":"861af605-b8de-4dcf-93a8-0e1ee0aa560a","amount":"136005.65","txn_time":"2025-08-15T12:55:08.498Z","location":"Unknown","category":"crypto","txn_type":"P2M","score":95,"reasons":["High amount ≥ 50000","High-risk category: crypto"]},{"txn_id":"c30609a1-4f53-4e0a-b157-d2e979b7afd8","amount":"97978.37","txn_time":"2025-08-15T04:19:32.295Z","location":"Unknown","category":"crypto","txn_type":"P2M","score":95,"reasons":["High amount ≥ 50000","High-risk category: crypto"]},{"txn_id":"e99bbc40-c4df-4660-b245-66fa6117eb98","amount":"46044.6","txn_time":"2025-08-14T22:42:54.379Z","location":"Unknown","category":"crypto","txn_type":"P2M","score":75,"reasons":["High amount ≥ 10000","High-risk category: crypto"]}]}% 
